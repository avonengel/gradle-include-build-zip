plugins {
    id 'base'
}
configurations {
    dummy
}
repositories {
    mavenLocal()
}
dependencies {
    dummy('test:zip-producing-project:0.1.0@zip') {
        targetConfiguration = 'archives' // does not work without this line
    }
}

task unzip(type: Sync) {
    dependsOn configurations.dummy

    from { // use of closure defers evaluation until execution time
        configurations.dummy.collect {
            zipTree(it)
        }
    }
    into 'build/unzip'
}
